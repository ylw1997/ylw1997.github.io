import{_ as s,o as n,c as a,d as l}from"./app.d78673fc.js";const D=JSON.parse('{"title":"docker","description":"","frontmatter":{},"headers":[{"level":2,"title":"\u641C\u7D22\u955C\u50CF","slug":"\u641C\u7D22\u955C\u50CF","link":"#\u641C\u7D22\u955C\u50CF","children":[]},{"level":2,"title":"\u62C9\u53D6\u955C\u50CF","slug":"\u62C9\u53D6\u955C\u50CF","link":"#\u62C9\u53D6\u955C\u50CF","children":[]},{"level":2,"title":"\u5220\u9664\u955C\u50CF","slug":"\u5220\u9664\u955C\u50CF","link":"#\u5220\u9664\u955C\u50CF","children":[]},{"level":2,"title":"\u8FD0\u884C\u955C\u50CF","slug":"\u8FD0\u884C\u955C\u50CF","link":"#\u8FD0\u884C\u955C\u50CF","children":[]},{"level":2,"title":"\u67E5\u770B\u5BB9\u5668","slug":"\u67E5\u770B\u5BB9\u5668","link":"#\u67E5\u770B\u5BB9\u5668","children":[]},{"level":2,"title":"\u7ED9\u5BB9\u5668\u8D77\u540D\u5B57","slug":"\u7ED9\u5BB9\u5668\u8D77\u540D\u5B57","link":"#\u7ED9\u5BB9\u5668\u8D77\u540D\u5B57","children":[]},{"level":2,"title":"\u505C\u6B62\u5BB9\u5668","slug":"\u505C\u6B62\u5BB9\u5668","link":"#\u505C\u6B62\u5BB9\u5668","children":[]},{"level":2,"title":"\u542F\u52A8\u5BB9\u5668","slug":"\u542F\u52A8\u5BB9\u5668","link":"#\u542F\u52A8\u5BB9\u5668","children":[]},{"level":2,"title":"\u91CD\u542F","slug":"\u91CD\u542F","link":"#\u91CD\u542F","children":[]},{"level":2,"title":"\u66F4\u65B0\u5BB9\u5668\u81EA\u52A8\u91CD\u542F","slug":"\u66F4\u65B0\u5BB9\u5668\u81EA\u52A8\u91CD\u542F","link":"#\u66F4\u65B0\u5BB9\u5668\u81EA\u52A8\u91CD\u542F","children":[]},{"level":2,"title":"\u67E5\u770B\u5BB9\u5668\u65E5\u5FD7","slug":"\u67E5\u770B\u5BB9\u5668\u65E5\u5FD7","link":"#\u67E5\u770B\u5BB9\u5668\u65E5\u5FD7","children":[]},{"level":2,"title":"\u8FDB\u5165\u5BB9\u5668","slug":"\u8FDB\u5165\u5BB9\u5668","link":"#\u8FDB\u5165\u5BB9\u5668","children":[]},{"level":2,"title":"\u62F7\u8D1D\u6587\u4EF6\u5230\u5BB9\u5668","slug":"\u62F7\u8D1D\u6587\u4EF6\u5230\u5BB9\u5668","link":"#\u62F7\u8D1D\u6587\u4EF6\u5230\u5BB9\u5668","children":[]},{"level":2,"title":"\u521B\u5EFA dockerfile \u6587\u4EF6","slug":"\u521B\u5EFA-dockerfile-\u6587\u4EF6","link":"#\u521B\u5EFA-dockerfile-\u6587\u4EF6","children":[]},{"level":2,"title":"docker \u547D\u4EE4\u6458\u8981","slug":"docker-\u547D\u4EE4\u6458\u8981","link":"#docker-\u547D\u4EE4\u6458\u8981","children":[]},{"level":2,"title":"dockerfile \u521B\u5EFA\u955C\u50CF","slug":"dockerfile-\u521B\u5EFA\u955C\u50CF","link":"#dockerfile-\u521B\u5EFA\u955C\u50CF","children":[]},{"level":2,"title":"docker compose","slug":"docker-compose","link":"#docker-compose","children":[]},{"level":2,"title":"docker-compose.yml","slug":"docker-compose-yml","link":"#docker-compose-yml","children":[]},{"level":2,"title":"\u542F\u52A8","slug":"\u542F\u52A8","link":"#\u542F\u52A8","children":[]},{"level":2,"title":"\u505C\u6B62","slug":"\u505C\u6B62","link":"#\u505C\u6B62","children":[]},{"level":2,"title":"\u67E5\u770B\u8FD0\u884C\u72B6\u6001","slug":"\u67E5\u770B\u8FD0\u884C\u72B6\u6001","link":"#\u67E5\u770B\u8FD0\u884C\u72B6\u6001","children":[]},{"level":2,"title":"\u9650\u5236\u5185\u5B58\u5927\u5C0F","slug":"\u9650\u5236\u5185\u5B58\u5927\u5C0F","link":"#\u9650\u5236\u5185\u5B58\u5927\u5C0F","children":[]},{"level":2,"title":"mysql compose\u6587\u4EF6\u5B9E\u4F8B","slug":"mysql-compose\u6587\u4EF6\u5B9E\u4F8B","link":"#mysql-compose\u6587\u4EF6\u5B9E\u4F8B","children":[]},{"level":2,"title":"nacos compose\u6587\u4EF6\u5B9E\u4F8B","slug":"nacos-compose\u6587\u4EF6\u5B9E\u4F8B","link":"#nacos-compose\u6587\u4EF6\u5B9E\u4F8B","children":[]},{"level":2,"title":"jenkins compose\u6587\u4EF6\u5B9E\u4F8B","slug":"jenkins-compose\u6587\u4EF6\u5B9E\u4F8B","link":"#jenkins-compose\u6587\u4EF6\u5B9E\u4F8B","children":[]}],"relativePath":"other/docker.md","lastUpdated":null}'),e={name:"other/docker.md"},p=l(`<h1 id="docker" tabindex="-1">docker <a class="header-anchor" href="#docker" aria-hidden="true">#</a></h1><h2 id="\u641C\u7D22\u955C\u50CF" tabindex="-1">\u641C\u7D22\u955C\u50CF <a class="header-anchor" href="#\u641C\u7D22\u955C\u50CF" aria-hidden="true">#</a></h2><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">docker search nginx</span></span>
<span class="line"></span></code></pre></div><h2 id="\u62C9\u53D6\u955C\u50CF" tabindex="-1">\u62C9\u53D6\u955C\u50CF <a class="header-anchor" href="#\u62C9\u53D6\u955C\u50CF" aria-hidden="true">#</a></h2><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">docker pull nginx:1.12.1</span></span>
<span class="line"></span></code></pre></div><h2 id="\u5220\u9664\u955C\u50CF" tabindex="-1">\u5220\u9664\u955C\u50CF <a class="header-anchor" href="#\u5220\u9664\u955C\u50CF" aria-hidden="true">#</a></h2><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">docker rmi nginx:1.12.1</span></span>
<span class="line"></span></code></pre></div><h2 id="\u8FD0\u884C\u955C\u50CF" tabindex="-1">\u8FD0\u884C\u955C\u50CF <a class="header-anchor" href="#\u8FD0\u884C\u955C\u50CF" aria-hidden="true">#</a></h2><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#676E95;"># -d \u540E\u53F0\u8FD0\u884C -p \u7AEF\u53E3\u6620\u5C04</span></span>
<span class="line"><span style="color:#A6ACCD;">docker run -d -p 80:80 nginx:1.12.1</span></span>
<span class="line"></span></code></pre></div><h2 id="\u67E5\u770B\u5BB9\u5668" tabindex="-1">\u67E5\u770B\u5BB9\u5668 <a class="header-anchor" href="#\u67E5\u770B\u5BB9\u5668" aria-hidden="true">#</a></h2><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">docker ps -a</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">CONTAINER ID   IMAGE          COMMAND                  CREATED              STATUS                        PORTS</span></span>
<span class="line"><span style="color:#A6ACCD;">       NAMES</span></span>
<span class="line"><span style="color:#A6ACCD;">2267a160b66d   nginx:1.12.1   </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">nginx -g &#39;daemon of\u2026</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">   About a minute ago   Up About a minute             0.0.0.0:80-</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">80/tcp   relaxed_snyder</span></span>
<span class="line"><span style="color:#A6ACCD;">5ef980bacfb0   mysql:8.0.28   </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">docker-entrypoint.s\u2026</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">   8 days ago           Exited </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">137</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> 12 minutes ago</span></span>
<span class="line"></span>
<span class="line"></span></code></pre></div><h2 id="\u7ED9\u5BB9\u5668\u8D77\u540D\u5B57" tabindex="-1">\u7ED9\u5BB9\u5668\u8D77\u540D\u5B57 <a class="header-anchor" href="#\u7ED9\u5BB9\u5668\u8D77\u540D\u5B57" aria-hidden="true">#</a></h2><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">docker rename 2267a160b66d mynginx</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">CONTAINER ID   IMAGE          COMMAND                  CREATED         STATUS                        PORTS                NAMES</span></span>
<span class="line"><span style="color:#A6ACCD;">2267a160b66d   nginx:1.12.1   </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">nginx -g &#39;daemon of\u2026</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">   7 minutes ago   Up 7 minutes                  0.0.0.0:80-</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">80/tcp   mynginx</span></span>
<span class="line"><span style="color:#A6ACCD;">5ef980bacfb0   mysql:8.0.28   </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">docker-entrypoint.s\u2026</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">   8 days ago      Exited </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">137</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> 18 minutes ago                        docker_mysql</span></span>
<span class="line"></span></code></pre></div><h2 id="\u505C\u6B62\u5BB9\u5668" tabindex="-1">\u505C\u6B62\u5BB9\u5668 <a class="header-anchor" href="#\u505C\u6B62\u5BB9\u5668" aria-hidden="true">#</a></h2><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">docker stop mynginx</span></span>
<span class="line"><span style="color:#676E95;"># \u6216\u8005</span></span>
<span class="line"><span style="color:#A6ACCD;">docker stop 2267a160b66d</span></span>
<span class="line"></span></code></pre></div><h2 id="\u542F\u52A8\u5BB9\u5668" tabindex="-1">\u542F\u52A8\u5BB9\u5668 <a class="header-anchor" href="#\u542F\u52A8\u5BB9\u5668" aria-hidden="true">#</a></h2><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">docker start mynginx</span></span>
<span class="line"></span></code></pre></div><h2 id="\u91CD\u542F" tabindex="-1">\u91CD\u542F <a class="header-anchor" href="#\u91CD\u542F" aria-hidden="true">#</a></h2><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">docker restart mynginx</span></span>
<span class="line"></span></code></pre></div><h2 id="\u66F4\u65B0\u5BB9\u5668\u81EA\u52A8\u91CD\u542F" tabindex="-1">\u66F4\u65B0\u5BB9\u5668\u81EA\u52A8\u91CD\u542F <a class="header-anchor" href="#\u66F4\u65B0\u5BB9\u5668\u81EA\u52A8\u91CD\u542F" aria-hidden="true">#</a></h2><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">docker update --restart=always mynginx</span></span>
<span class="line"></span></code></pre></div><h2 id="\u67E5\u770B\u5BB9\u5668\u65E5\u5FD7" tabindex="-1">\u67E5\u770B\u5BB9\u5668\u65E5\u5FD7 <a class="header-anchor" href="#\u67E5\u770B\u5BB9\u5668\u65E5\u5FD7" aria-hidden="true">#</a></h2><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">docker logs mynginx</span></span>
<span class="line"></span></code></pre></div><h2 id="\u8FDB\u5165\u5BB9\u5668" tabindex="-1">\u8FDB\u5165\u5BB9\u5668 <a class="header-anchor" href="#\u8FDB\u5165\u5BB9\u5668" aria-hidden="true">#</a></h2><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">docker </span><span style="color:#82AAFF;">exec</span><span style="color:#A6ACCD;"> -it mynginx /bin/bash</span></span>
<span class="line"><span style="color:#676E95;"># \u9000\u51FA</span></span>
<span class="line"><span style="color:#82AAFF;">exit</span></span>
<span class="line"></span></code></pre></div><h2 id="\u62F7\u8D1D\u6587\u4EF6\u5230\u5BB9\u5668" tabindex="-1">\u62F7\u8D1D\u6587\u4EF6\u5230\u5BB9\u5668 <a class="header-anchor" href="#\u62F7\u8D1D\u6587\u4EF6\u5230\u5BB9\u5668" aria-hidden="true">#</a></h2><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">docker cp /Users/xxx/xxx.txt mynginx:/usr/share/nginx/html</span></span>
<span class="line"></span></code></pre></div><h2 id="\u521B\u5EFA-dockerfile-\u6587\u4EF6" tabindex="-1">\u521B\u5EFA dockerfile \u6587\u4EF6 <a class="header-anchor" href="#\u521B\u5EFA-dockerfile-\u6587\u4EF6" aria-hidden="true">#</a></h2><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki"><code><span class="line"><span style="color:#676E95;"># Dockerfile</span></span>
<span class="line"><span style="color:#A6ACCD;">FROM nginx</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">LABEL MAINTAINER=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">yangliwei</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">RUN chmod g+rwx /var/cache/nginx /var/run /var/log/nginx /usr/share/nginx/html/</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">ENV TZ=Asia/Shanghai</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">COPY dist/  /usr/share/nginx/html/</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">EXPOSE 80</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">CMD </span><span style="color:#89DDFF;">[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">nginx</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">, </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">-g</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">, </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">daemon off;</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">]</span></span>
<span class="line"></span></code></pre></div><h2 id="docker-\u547D\u4EE4\u6458\u8981" tabindex="-1">docker \u547D\u4EE4\u6458\u8981 <a class="header-anchor" href="#docker-\u547D\u4EE4\u6458\u8981" aria-hidden="true">#</a></h2><div class="tip custom-block"><p class="custom-block-title">\u547D\u4EE4\u6458\u8981</p><ul><li>FROM- \u955C\u50CF\u4ECE\u90A3\u91CC\u6765</li><li>MAINTAINER- \u955C\u50CF\u7EF4\u62A4\u8005\u4FE1\u606F</li><li>RUN- \u6784\u5EFA\u955C\u50CF\u6267\u884C\u7684\u547D\u4EE4\uFF0C\u6BCF\u4E00\u6B21 RUN \u90FD\u4F1A\u6784\u5EFA\u4E00\u5C42</li><li>CMD- \u5BB9\u5668\u542F\u52A8\u7684\u547D\u4EE4\uFF0C\u5982\u679C\u6709\u591A\u4E2A\u5219\u4EE5\u6700\u540E\u4E00\u4E2A\u4E3A\u51C6\uFF0C\u4E5F\u53EF\u4EE5\u4E3A ENTRYPOINT \u63D0\u4F9B\u53C2\u6570</li><li>VOLUME- \u5B9A\u4E49\u6570\u636E\u5377\uFF0C\u5982\u679C\u6CA1\u6709\u5B9A\u4E49\u5219\u4F7F\u7528\u9ED8\u8BA4</li><li>USER- \u6307\u5B9A\u540E\u7EED\u6267\u884C\u7684\u7528\u6237\u7EC4\u548C\u7528\u6237</li><li>WORKDIR- \u5207\u6362\u5F53\u524D\u6267\u884C\u7684\u5DE5\u4F5C\u76EE\u5F55</li><li>HEALTHCHECH- \u5065\u5EB7\u68C0\u6D4B\u6307\u4EE4</li><li>ARG- \u53D8\u91CF\u5C5E\u6027\u503C\uFF0C\u4F46\u4E0D\u5728\u5BB9\u5668\u5185\u90E8\u8D77\u4F5C\u7528</li><li>EXPOSE- \u66B4\u9732\u7AEF\u53E3</li><li>ENV- \u53D8\u91CF\u5C5E\u6027\u503C\uFF0C\u5BB9\u5668\u5185\u90E8\u4E5F\u4F1A\u8D77\u4F5C\u7528</li><li>ADD- \u6DFB\u52A0\u6587\u4EF6\uFF0C\u5982\u679C\u662F\u538B\u7F29\u6587\u4EF6\u4E5F\u89E3\u538B</li><li>COPY- \u6DFB\u52A0\u6587\u4EF6\uFF0C\u4EE5\u590D\u5236\u7684\u5F62\u5F0F</li><li>ENTRYPOINT- \u5BB9\u5668\u8FDB\u5165\u65F6\u6267\u884C\u7684\u547D\u4EE4</li></ul></div><h2 id="dockerfile-\u521B\u5EFA\u955C\u50CF" tabindex="-1">dockerfile \u521B\u5EFA\u955C\u50CF <a class="header-anchor" href="#dockerfile-\u521B\u5EFA\u955C\u50CF" aria-hidden="true">#</a></h2><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#676E95;"># \u521B\u5EFA\u955C\u50CF</span></span>
<span class="line"><span style="color:#A6ACCD;">docker build -t mynginx </span><span style="color:#82AAFF;">.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u67E5\u770B\u955C\u50CF</span></span>
<span class="line"><span style="color:#A6ACCD;">docker images</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u7ED3\u679C</span></span>
<span class="line"><span style="color:#A6ACCD;">REPOSITORY           TAG             IMAGE ID       CREATED          SIZE</span></span>
<span class="line"><span style="color:#A6ACCD;">mynginx              latest          c8c87fb396ce   43 seconds ago   146MB</span></span>
<span class="line"></span></code></pre></div><h2 id="docker-compose" tabindex="-1">docker compose <a class="header-anchor" href="#docker-compose" aria-hidden="true">#</a></h2><div class="tip custom-block"><p class="custom-block-title">\u7B80\u4ECB</p><p>Compose \u662F\u7528\u4E8E\u5B9A\u4E49\u548C\u8FD0\u884C\u591A\u5BB9\u5668 Docker \u5E94\u7528\u7A0B\u5E8F\u7684\u5DE5\u5177\u3002\u901A\u8FC7 Compose\uFF0C\u60A8\u53EF\u4EE5\u4F7F\u7528 YML \u6587\u4EF6\u6765\u914D\u7F6E\u5E94\u7528\u7A0B\u5E8F\u9700\u8981\u7684\u6240\u6709\u670D\u52A1\u3002\u7136\u540E\uFF0C\u4F7F\u7528\u4E00\u4E2A\u547D\u4EE4\uFF0C\u5C31\u53EF\u4EE5\u4ECE YML \u6587\u4EF6\u914D\u7F6E\u4E2D\u521B\u5EFA\u5E76\u542F\u52A8\u6240\u6709\u670D\u52A1\u3002 \u5927\u81F4\u6B65\u9AA4:</p><ul><li>\u4F7F\u7528 Dockerfile \u5B9A\u4E49\u5E94\u7528\u7A0B\u5E8F\u7684\u73AF\u5883</li><li>\u4F7F\u7528 docker-compose.yml \u5B9A\u4E49\u6784\u6210\u5E94\u7528\u7A0B\u5E8F\u7684\u670D\u52A1\uFF0C\u8FD9\u6837\u5B83\u4EEC\u53EF\u4EE5\u5728\u9694\u79BB\u73AF\u5883\u4E2D\u4E00\u8D77\u8FD0\u884C\u3002</li><li>\u4F7F\u7528 docker-compose up \u547D\u4EE4\u6765\u542F\u52A8\u5E94\u7528\u7A0B\u5E8F\u3002</li></ul></div><h2 id="docker-compose-yml" tabindex="-1">docker-compose.yml <a class="header-anchor" href="#docker-compose-yml" aria-hidden="true">#</a></h2><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#676E95;"># \u7528\u4E0A\u9762\u90A3\u4E2A Dockerfile \u521B\u5EFA\u7684\u955C\u50CF</span></span>
<span class="line"><span style="color:#A6ACCD;">version: </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">3</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">services:</span></span>
<span class="line"><span style="color:#A6ACCD;">  web:</span></span>
<span class="line"><span style="color:#A6ACCD;">    build: </span><span style="color:#82AAFF;">.</span></span>
<span class="line"><span style="color:#A6ACCD;">    ports:</span></span>
<span class="line"><span style="color:#A6ACCD;">      - </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">80:80</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span></code></pre></div><h2 id="\u542F\u52A8" tabindex="-1">\u542F\u52A8 <a class="header-anchor" href="#\u542F\u52A8" aria-hidden="true">#</a></h2><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">docker-compose up -d</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u5982\u679C\u662F\u81EA\u5B9A\u4E49\u540D\u79F0\u542F\u52A8</span></span>
<span class="line"><span style="color:#A6ACCD;">docker-compose -f .\\php.yml up -d</span></span>
<span class="line"></span></code></pre></div><h2 id="\u505C\u6B62" tabindex="-1">\u505C\u6B62 <a class="header-anchor" href="#\u505C\u6B62" aria-hidden="true">#</a></h2><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">docker-compose down</span></span>
<span class="line"></span></code></pre></div><h2 id="\u67E5\u770B\u8FD0\u884C\u72B6\u6001" tabindex="-1">\u67E5\u770B\u8FD0\u884C\u72B6\u6001 <a class="header-anchor" href="#\u67E5\u770B\u8FD0\u884C\u72B6\u6001" aria-hidden="true">#</a></h2><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">docker-compose ps</span></span>
<span class="line"></span></code></pre></div><h2 id="\u9650\u5236\u5185\u5B58\u5927\u5C0F" tabindex="-1">\u9650\u5236\u5185\u5B58\u5927\u5C0F <a class="header-anchor" href="#\u9650\u5236\u5185\u5B58\u5927\u5C0F" aria-hidden="true">#</a></h2><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#676E95;"># docker\u9650\u5236\u5185\u5B58\u5927\u5C0F</span></span>
<span class="line"><span style="color:#A6ACCD;">docker update jenkins -m 3g  --memory-swap -1</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;"># \u547D\u4EE4\u8BE6\u89E3</span></span>
<span class="line"><span style="color:#A6ACCD;">--memory \u6216 -m  \u9650\u5236\u5BB9\u5668\u7684\u5185\u5B58\u4F7F\u7528\u91CF</span></span>
<span class="line"><span style="color:#A6ACCD;">--memory-swap  \u9650\u5236\u5185\u5B58\u548C Swap \u7684\u603B\u548C\uFF0C\u4E0D\u8BBE\u7F6E\u7684\u8BDD\u9ED8\u8BA4\u4E3A--memory\u7684\u4E24\u500D</span></span>
<span class="line"></span></code></pre></div><h2 id="mysql-compose\u6587\u4EF6\u5B9E\u4F8B" tabindex="-1">mysql compose\u6587\u4EF6\u5B9E\u4F8B <a class="header-anchor" href="#mysql-compose\u6587\u4EF6\u5B9E\u4F8B" aria-hidden="true">#</a></h2><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">version: </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">3</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">services:</span></span>
<span class="line"><span style="color:#A6ACCD;">  docker_mysql:</span></span>
<span class="line"><span style="color:#A6ACCD;">    user: root</span></span>
<span class="line"><span style="color:#A6ACCD;">    restart: always</span></span>
<span class="line"><span style="color:#A6ACCD;">    image: mysql:8.0.28</span></span>
<span class="line"><span style="color:#A6ACCD;">    container_name: docker_mysql</span></span>
<span class="line"><span style="color:#A6ACCD;">    ports:</span></span>
<span class="line"><span style="color:#A6ACCD;">      - </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">3306:3306</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">    command: </span></span>
<span class="line"><span style="color:#A6ACCD;">      --default-authentication-plugin=mysql_native_password</span></span>
<span class="line"><span style="color:#A6ACCD;">      --character-set-server=utf8mb4</span></span>
<span class="line"><span style="color:#A6ACCD;">      --collation-server=utf8mb4_general_ci</span></span>
<span class="line"><span style="color:#A6ACCD;">      --explicit_defaults_for_timestamp=true</span></span>
<span class="line"><span style="color:#A6ACCD;">      --lower_case_table_names=1</span></span>
<span class="line"><span style="color:#A6ACCD;">    environment:</span></span>
<span class="line"><span style="color:#A6ACCD;">      LANG: en_US.UTF-8</span></span>
<span class="line"><span style="color:#A6ACCD;">      TZ: Asia/Shanghai</span></span>
<span class="line"><span style="color:#A6ACCD;">      MYSQL_ROOT_PASSWORD: 123456</span></span>
<span class="line"><span style="color:#A6ACCD;">    volumes:</span></span>
<span class="line"><span style="color:#A6ACCD;">      - D:/docker/mysql/data:/var/lib/mysql</span></span>
<span class="line"><span style="color:#A6ACCD;">      - D:/docker/mysql/conf:/etc/mysql/conf.d</span></span>
<span class="line"></span></code></pre></div><h2 id="nacos-compose\u6587\u4EF6\u5B9E\u4F8B" tabindex="-1">nacos compose\u6587\u4EF6\u5B9E\u4F8B <a class="header-anchor" href="#nacos-compose\u6587\u4EF6\u5B9E\u4F8B" aria-hidden="true">#</a></h2><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">version: </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">3</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">services:</span></span>
<span class="line"><span style="color:#A6ACCD;">  nacos:</span></span>
<span class="line"><span style="color:#A6ACCD;">    image: nacos/nacos-server</span></span>
<span class="line"><span style="color:#A6ACCD;">    hostname: nacos-server01</span></span>
<span class="line"><span style="color:#A6ACCD;">    container_name: nacos-standalone-mysql</span></span>
<span class="line"><span style="color:#A6ACCD;">    restart: always</span></span>
<span class="line"><span style="color:#A6ACCD;">    environment: </span></span>
<span class="line"><span style="color:#A6ACCD;">      - MODE=standalone</span></span>
<span class="line"><span style="color:#A6ACCD;">      - PREFER_HOST_MODE=hostname</span></span>
<span class="line"><span style="color:#A6ACCD;">      - SPRING_DATASOURCE_PLATFORM=mysql</span></span>
<span class="line"><span style="color:#A6ACCD;">      - MYSQL_SERVICE_HOST=172.19.0.3</span></span>
<span class="line"><span style="color:#A6ACCD;">      - MYSQL_SERVICE_PORT=3306</span></span>
<span class="line"><span style="color:#A6ACCD;">      - MYSQL_SERVICE_USER=root</span></span>
<span class="line"><span style="color:#A6ACCD;">      - MYSQL_SERVICE_PASSWORD=123456</span></span>
<span class="line"><span style="color:#A6ACCD;">      - MYSQL_SERVICE_DB_NAME=nacos</span></span>
<span class="line"><span style="color:#A6ACCD;">      - JVM_XMS=512m</span></span>
<span class="line"><span style="color:#A6ACCD;">      - JVM_XMX=512m</span></span>
<span class="line"><span style="color:#A6ACCD;">      - JVM_XMN=512m</span></span>
<span class="line"><span style="color:#A6ACCD;">    volumes:</span></span>
<span class="line"><span style="color:#A6ACCD;">      - D:/docker/nacos/logs:/home/nacos/logs</span></span>
<span class="line"><span style="color:#A6ACCD;">    ports:</span></span>
<span class="line"><span style="color:#A6ACCD;">      - 8848:8848</span></span>
<span class="line"><span style="color:#A6ACCD;">      - 9848:9848</span></span>
<span class="line"><span style="color:#A6ACCD;">      - 9555:9555</span></span>
<span class="line"><span style="color:#A6ACCD;">    depends_on:</span></span>
<span class="line"><span style="color:#A6ACCD;">      - docker_mysql</span></span>
<span class="line"><span style="color:#A6ACCD;">    restart: always</span></span>
<span class="line"><span style="color:#A6ACCD;">    networks:</span></span>
<span class="line"><span style="color:#A6ACCD;">      app_net:</span></span>
<span class="line"><span style="color:#A6ACCD;">        ipv4_address: 172.19.0.2</span></span>
<span class="line"><span style="color:#A6ACCD;">  docker_mysql:</span></span>
<span class="line"><span style="color:#A6ACCD;">    user: root</span></span>
<span class="line"><span style="color:#A6ACCD;">    restart: always</span></span>
<span class="line"><span style="color:#A6ACCD;">    image: mysql:8.0.28</span></span>
<span class="line"><span style="color:#A6ACCD;">    container_name: docker_mysql</span></span>
<span class="line"><span style="color:#A6ACCD;">    ports:</span></span>
<span class="line"><span style="color:#A6ACCD;">      - </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">3306:3306</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">    command: </span></span>
<span class="line"><span style="color:#A6ACCD;">      --default-authentication-plugin=mysql_native_password</span></span>
<span class="line"><span style="color:#A6ACCD;">      --character-set-server=utf8mb4</span></span>
<span class="line"><span style="color:#A6ACCD;">      --collation-server=utf8mb4_general_ci</span></span>
<span class="line"><span style="color:#A6ACCD;">      --explicit_defaults_for_timestamp=true</span></span>
<span class="line"><span style="color:#A6ACCD;">      --lower_case_table_names=1</span></span>
<span class="line"><span style="color:#A6ACCD;">    environment:</span></span>
<span class="line"><span style="color:#A6ACCD;">      LANG: en_US.UTF-8</span></span>
<span class="line"><span style="color:#A6ACCD;">      TZ: Asia/Shanghai</span></span>
<span class="line"><span style="color:#A6ACCD;">      MYSQL_ROOT_PASSWORD: 123456</span></span>
<span class="line"><span style="color:#A6ACCD;">    volumes:</span></span>
<span class="line"><span style="color:#A6ACCD;">      - D:/docker/mysql/data:/var/lib/mysql</span></span>
<span class="line"><span style="color:#A6ACCD;">      - D:/docker/mysql/conf:/etc/mysql/conf.d</span></span>
<span class="line"><span style="color:#A6ACCD;">    networks:</span></span>
<span class="line"><span style="color:#A6ACCD;">      app_net:</span></span>
<span class="line"><span style="color:#A6ACCD;">        ipv4_address: 172.19.0.3</span></span>
<span class="line"><span style="color:#A6ACCD;">networks:</span></span>
<span class="line"><span style="color:#A6ACCD;">  app_net:</span></span>
<span class="line"><span style="color:#A6ACCD;">    ipam:</span></span>
<span class="line"><span style="color:#A6ACCD;">      config:</span></span>
<span class="line"><span style="color:#A6ACCD;">        - subnet: 172.19.0.0/16</span></span>
<span class="line"></span></code></pre></div><h2 id="jenkins-compose\u6587\u4EF6\u5B9E\u4F8B" tabindex="-1">jenkins compose\u6587\u4EF6\u5B9E\u4F8B <a class="header-anchor" href="#jenkins-compose\u6587\u4EF6\u5B9E\u4F8B" aria-hidden="true">#</a></h2><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">version: </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">3</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">services:</span></span>
<span class="line"><span style="color:#A6ACCD;">  docker_jenkins:</span></span>
<span class="line"><span style="color:#A6ACCD;">    user: root</span></span>
<span class="line"><span style="color:#A6ACCD;">    restart: always</span></span>
<span class="line"><span style="color:#A6ACCD;">    image: jenkins/jenkins:latest</span></span>
<span class="line"><span style="color:#A6ACCD;">    container_name: docker_jenkins</span></span>
<span class="line"><span style="color:#A6ACCD;">    ports:</span></span>
<span class="line"><span style="color:#A6ACCD;">      - </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">8080:8080</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">      - </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">50000:50000</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">    volumes:</span></span>
<span class="line"><span style="color:#A6ACCD;">      - D:/docker/jenkins/jenkins_home:/var/jenkins_home </span><span style="color:#676E95;"># \u628Ajenkins_home\u6620\u5C04\u5230\u672C\u5730</span></span>
<span class="line"><span style="color:#A6ACCD;">  docer_nginx:</span></span>
<span class="line"><span style="color:#A6ACCD;">    user: root</span></span>
<span class="line"><span style="color:#A6ACCD;">    restart: always</span></span>
<span class="line"><span style="color:#A6ACCD;">    image: nginx</span></span>
<span class="line"><span style="color:#A6ACCD;">    container_name: docer_nginx</span></span>
<span class="line"><span style="color:#A6ACCD;">    ports:</span></span>
<span class="line"><span style="color:#A6ACCD;">      - </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">80:80</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">      - </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">443:443</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">    volumes:</span></span>
<span class="line"><span style="color:#A6ACCD;">      - D:/docker/nginx/www:/usr/share/nginx/html</span></span>
<span class="line"><span style="color:#A6ACCD;">      - D:/docker/nginx/conf.d:/etc/nginx/conf.d</span></span>
<span class="line"><span style="color:#A6ACCD;">  docker_mysql:</span></span>
<span class="line"><span style="color:#A6ACCD;">    user: root</span></span>
<span class="line"><span style="color:#A6ACCD;">    restart: always</span></span>
<span class="line"><span style="color:#A6ACCD;">    image: mysql:8.0.28</span></span>
<span class="line"><span style="color:#A6ACCD;">    container_name: docker_mysql</span></span>
<span class="line"><span style="color:#A6ACCD;">    ports:</span></span>
<span class="line"><span style="color:#A6ACCD;">      - </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">3306:3306</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">    command: </span></span>
<span class="line"><span style="color:#A6ACCD;">      --default-authentication-plugin=mysql_native_password</span></span>
<span class="line"><span style="color:#A6ACCD;">      --character-set-server=utf8mb4</span></span>
<span class="line"><span style="color:#A6ACCD;">      --collation-server=utf8mb4_general_ci</span></span>
<span class="line"><span style="color:#A6ACCD;">      --explicit_defaults_for_timestamp=true</span></span>
<span class="line"><span style="color:#A6ACCD;">      --lower_case_table_names=1</span></span>
<span class="line"><span style="color:#A6ACCD;">    environment:</span></span>
<span class="line"><span style="color:#A6ACCD;">      LANG: en_US.UTF-8</span></span>
<span class="line"><span style="color:#A6ACCD;">      TZ: Asia/Shanghai</span></span>
<span class="line"><span style="color:#A6ACCD;">      MYSQL_ROOT_PASSWORD: 123456</span></span>
<span class="line"><span style="color:#A6ACCD;">    volumes:</span></span>
<span class="line"><span style="color:#A6ACCD;">      - D:/docker/mysql/data:/var/lib/mysql</span></span>
<span class="line"><span style="color:#A6ACCD;">      - D:/docker/mysql/conf:/etc/mysql/conf.d</span></span>
<span class="line"></span></code></pre></div>`,51),o=[p];function c(t,i,r,C,d,A){return n(),a("div",null,o)}const h=s(e,[["render",c]]);export{D as __pageData,h as default};

import{_ as s,o as a,c as n,d as l}from"./app.b9a5d55a.js";const F=JSON.parse('{"title":"linux 磁盘空间扩展","description":"","frontmatter":{},"headers":[{"level":2,"title":"LVM 管理工具","slug":"lvm-管理工具","link":"#lvm-管理工具","children":[]},{"level":2,"title":"1, 查看磁盘空间","slug":"_1-查看磁盘空间","link":"#_1-查看磁盘空间","children":[]},{"level":2,"title":"2,卸载/home","slug":"_2-卸载-home","link":"#_2-卸载-home","children":[]},{"level":2,"title":"3,删除/home 逻辑卷","slug":"_3-删除-home-逻辑卷","link":"#_3-删除-home-逻辑卷","children":[]},{"level":2,"title":"4,扩展 /root 逻辑卷","slug":"_4-扩展-root-逻辑卷","link":"#_4-扩展-root-逻辑卷","children":[]},{"level":2,"title":"5,扩展 /root 文件系统","slug":"_5-扩展-root-文件系统","link":"#_5-扩展-root-文件系统","children":[]},{"level":2,"title":"6,查看磁盘空间","slug":"_6-查看磁盘空间","link":"#_6-查看磁盘空间","children":[]},{"level":2,"title":"7,查看物理卷","slug":"_7-查看物理卷","link":"#_7-查看物理卷","children":[]},{"level":2,"title":"8, 创建新的逻辑卷","slug":"_8-创建新的逻辑卷","link":"#_8-创建新的逻辑卷","children":[]},{"level":2,"title":"9,查看逻辑卷","slug":"_9-查看逻辑卷","link":"#_9-查看逻辑卷","children":[]},{"level":2,"title":"10,查看 newhome 逻辑卷信息","slug":"_10-查看-newhome-逻辑卷信息","link":"#_10-查看-newhome-逻辑卷信息","children":[]},{"level":2,"title":"12,创建挂载点","slug":"_12-创建挂载点","link":"#_12-创建挂载点","children":[]},{"level":2,"title":"13,挂载 newhome 逻辑卷","slug":"_13-挂载-newhome-逻辑卷","link":"#_13-挂载-newhome-逻辑卷","children":[]},{"level":2,"title":"14,修改系统文件 /etc/fstab","slug":"_14-修改系统文件-etc-fstab","link":"#_14-修改系统文件-etc-fstab","children":[]},{"level":2,"title":"15,保存后，重启系统","slug":"_15-保存后-重启系统","link":"#_15-保存后-重启系统","children":[]},{"level":2,"title":"16,查看挂载信息","slug":"_16-查看挂载信息","link":"#_16-查看挂载信息","children":[]}],"relativePath":"other/linuxLVM.md","lastUpdated":1677209296000}'),p={name:"other/linuxLVM.md"},o=l(`<h1 id="linux-磁盘空间扩展" tabindex="-1">linux 磁盘空间扩展 <a class="header-anchor" href="#linux-磁盘空间扩展" aria-hidden="true">#</a></h1><div class="tip custom-block"><p class="custom-block-title">说明</p><ul><li><p>本文主要介绍如何扩展 linux 磁盘空间</p></li><li><p>把/home 的空间 转移30G到 /root 下</p></li><li><p>参考 <a href="http://www.manongjc.com/detail/28-yplerbafsuqedeb.html" target="_blank" rel="noreferrer">http://www.manongjc.com/detail/28-yplerbafsuqedeb.html</a></p></li></ul></div><h2 id="lvm-管理工具" tabindex="-1">LVM 管理工具 <a class="header-anchor" href="#lvm-管理工具" aria-hidden="true">#</a></h2><table><thead><tr><th style="text-align:left;">功能</th><th style="text-align:left;">物理卷管理</th><th style="text-align:left;">卷组管理</th><th style="text-align:left;">逻辑卷管理</th></tr></thead><tbody><tr><td style="text-align:left;">扫描</td><td style="text-align:left;">pvscan</td><td style="text-align:left;">vgscan</td><td style="text-align:left;">lvscan</td></tr><tr><td style="text-align:left;">创建</td><td style="text-align:left;">pvcreate</td><td style="text-align:left;">vgcreate</td><td style="text-align:left;">lvcreate</td></tr><tr><td style="text-align:left;">显示</td><td style="text-align:left;">pvdisplay</td><td style="text-align:left;">vgdisplay</td><td style="text-align:left;">lvdisplay</td></tr><tr><td style="text-align:left;">删除</td><td style="text-align:left;">pvremove</td><td style="text-align:left;">vgremove</td><td style="text-align:left;">lvremove</td></tr><tr><td style="text-align:left;">扩展</td><td style="text-align:left;"></td><td style="text-align:left;">vgextend</td><td style="text-align:left;">lvextend</td></tr></tbody></table><h2 id="_1-查看磁盘空间" tabindex="-1">1, 查看磁盘空间 <a class="header-anchor" href="#_1-查看磁盘空间" aria-hidden="true">#</a></h2><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">root@localhost </span><span style="color:#89DDFF;">~]</span><span style="color:#A6ACCD;"># df -h</span></span>
<span class="line"><span style="color:#FFCB6B;">文件系统</span><span style="color:#A6ACCD;">             </span><span style="color:#C3E88D;">容量</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">已用</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">可用</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">已用%</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">挂载点</span></span>
<span class="line"><span style="color:#FFCB6B;">devtmpfs</span><span style="color:#A6ACCD;">             </span><span style="color:#C3E88D;">7.6G</span><span style="color:#A6ACCD;">     </span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">7.6G</span><span style="color:#A6ACCD;">    </span><span style="color:#F78C6C;">0</span><span style="color:#C3E88D;">%</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/dev</span></span>
<span class="line"><span style="color:#FFCB6B;">tmpfs</span><span style="color:#A6ACCD;">                </span><span style="color:#C3E88D;">7.6G</span><span style="color:#A6ACCD;">     </span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">7.6G</span><span style="color:#A6ACCD;">    </span><span style="color:#F78C6C;">0</span><span style="color:#C3E88D;">%</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/dev/shm</span></span>
<span class="line"><span style="color:#FFCB6B;">tmpfs</span><span style="color:#A6ACCD;">                </span><span style="color:#C3E88D;">7.6G</span><span style="color:#A6ACCD;">   </span><span style="color:#C3E88D;">35M</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">7.6G</span><span style="color:#A6ACCD;">    </span><span style="color:#F78C6C;">1</span><span style="color:#C3E88D;">%</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/run</span></span>
<span class="line"><span style="color:#FFCB6B;">tmpfs</span><span style="color:#A6ACCD;">                </span><span style="color:#C3E88D;">7.6G</span><span style="color:#A6ACCD;">     </span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">7.6G</span><span style="color:#A6ACCD;">    </span><span style="color:#F78C6C;">0</span><span style="color:#C3E88D;">%</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/sys/fs/cgroup</span></span>
<span class="line"><span style="color:#FFCB6B;">/dev/mapper/cl-root</span><span style="color:#A6ACCD;">   </span><span style="color:#C3E88D;">70G</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">6.9G</span><span style="color:#A6ACCD;">   </span><span style="color:#C3E88D;">64G</span><span style="color:#A6ACCD;">   </span><span style="color:#F78C6C;">10</span><span style="color:#C3E88D;">%</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/</span></span>
<span class="line"><span style="color:#FFCB6B;">/dev/sda2</span><span style="color:#A6ACCD;">           </span><span style="color:#C3E88D;">1014M</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">313M</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">702M</span><span style="color:#A6ACCD;">   </span><span style="color:#F78C6C;">31</span><span style="color:#C3E88D;">%</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/boot</span></span>
<span class="line"><span style="color:#FFCB6B;">/dev/mapper/cl-home</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">121G</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">908M</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">120G</span><span style="color:#A6ACCD;">    </span><span style="color:#F78C6C;">1</span><span style="color:#C3E88D;">%</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/home</span></span>
<span class="line"><span style="color:#FFCB6B;">/dev/sda1</span><span style="color:#A6ACCD;">            </span><span style="color:#C3E88D;">599M</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">7.3M</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">592M</span><span style="color:#A6ACCD;">    </span><span style="color:#F78C6C;">2</span><span style="color:#C3E88D;">%</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/boot/efi</span></span>
<span class="line"><span style="color:#FFCB6B;">tmpfs</span><span style="color:#A6ACCD;">                </span><span style="color:#C3E88D;">1.6G</span><span style="color:#A6ACCD;">   </span><span style="color:#C3E88D;">44K</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">1.6G</span><span style="color:#A6ACCD;">    </span><span style="color:#F78C6C;">1</span><span style="color:#C3E88D;">%</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/run/user/</span><span style="color:#F78C6C;">1000</span></span>
<span class="line"></span></code></pre></div><h2 id="_2-卸载-home" tabindex="-1">2,卸载/home <a class="header-anchor" href="#_2-卸载-home" aria-hidden="true">#</a></h2><div class="tip custom-block"><p class="custom-block-title">说明</p><ul><li><p>为了安全起见，先卸载/home</p></li><li><p>/home 里面是用户的数据，卸载后，用户的数据就会丢失</p></li><li><p>如果不想丢失数据，可以先备份数据，然后再卸载</p></li><li><p>如果有人正在使用/home，卸载会失败</p></li><li><p><code>w</code>命令可以查看有哪些用户在线</p></li></ul><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">root@localhost </span><span style="color:#89DDFF;">~]</span><span style="color:#A6ACCD;"># w</span></span>
<span class="line"><span style="color:#F78C6C;">21</span><span style="color:#A6ACCD;">:</span><span style="color:#F78C6C;">29</span><span style="color:#A6ACCD;">:</span><span style="color:#F78C6C;">01</span><span style="color:#A6ACCD;"> up </span><span style="color:#F78C6C;">42</span><span style="color:#A6ACCD;"> days, </span><span style="color:#F78C6C;">20</span><span style="color:#A6ACCD;">:</span><span style="color:#F78C6C;">52</span><span style="color:#A6ACCD;">,  </span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;"> users,  load average: </span><span style="color:#F78C6C;">0.06</span><span style="color:#A6ACCD;">, </span><span style="color:#F78C6C;">0.02</span><span style="color:#A6ACCD;">, </span><span style="color:#F78C6C;">0.00</span></span>
<span class="line"><span style="color:#FFCB6B;">USER</span><span style="color:#A6ACCD;">     </span><span style="color:#C3E88D;">TTY</span><span style="color:#A6ACCD;">      </span><span style="color:#C3E88D;">FROM</span><span style="color:#A6ACCD;">             </span><span style="color:#C3E88D;">LOGIN@</span><span style="color:#A6ACCD;">   </span><span style="color:#C3E88D;">IDLE</span><span style="color:#A6ACCD;">   </span><span style="color:#C3E88D;">JCPU</span><span style="color:#A6ACCD;">   </span><span style="color:#C3E88D;">PCPU</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">WHAT</span></span>
<span class="line"><span style="color:#FFCB6B;">admin</span><span style="color:#A6ACCD;">    </span><span style="color:#C3E88D;">tty2</span><span style="color:#A6ACCD;">     </span><span style="color:#C3E88D;">tty2</span><span style="color:#A6ACCD;">             </span><span style="color:#C3E88D;">121月23</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">42days</span><span style="color:#A6ACCD;">  </span><span style="color:#F78C6C;">2</span><span style="color:#C3E88D;">:44m</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">0.01s</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/usr/libexec/gsd-disk-utility-notify</span></span>
<span class="line"><span style="color:#FFCB6B;">root</span><span style="color:#A6ACCD;">     </span><span style="color:#C3E88D;">pts/</span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">    </span><span style="color:#C3E88D;">192.168.0.177</span><span style="color:#A6ACCD;">    </span><span style="color:#F78C6C;">21</span><span style="color:#C3E88D;">:</span><span style="color:#F78C6C;">16</span><span style="color:#A6ACCD;">    </span><span style="color:#C3E88D;">0.00s</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">0.10s</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">0.03s</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">w</span></span>
<span class="line"></span></code></pre></div><ul><li>强制退出某个用户 <code>pkill -kill -t tty2</code></li></ul></div><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">root@localhost </span><span style="color:#89DDFF;">~]</span><span style="color:#A6ACCD;"># umount /home</span></span>
<span class="line"></span></code></pre></div><h2 id="_3-删除-home-逻辑卷" tabindex="-1">3,删除/home 逻辑卷 <a class="header-anchor" href="#_3-删除-home-逻辑卷" aria-hidden="true">#</a></h2><blockquote><p>/home 的逻辑卷是在 /dev/mapper/cl-home</p></blockquote><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">root@localhost </span><span style="color:#89DDFF;">~]</span><span style="color:#A6ACCD;"># lvremove /dev/mapper/cl-home</span></span>
<span class="line"><span style="color:#FFCB6B;">Do</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">you</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">really</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">want</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">to</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">remove</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">active</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">logical</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">volume</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">cl/home?</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">y/n</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;">: </span><span style="color:#C3E88D;">y</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">Logical</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">volume</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">home</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">successfully</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">removed.</span></span>
<span class="line"></span>
<span class="line"></span></code></pre></div><h2 id="_4-扩展-root-逻辑卷" tabindex="-1">4,扩展 /root 逻辑卷 <a class="header-anchor" href="#_4-扩展-root-逻辑卷" aria-hidden="true">#</a></h2><blockquote><p>/root 的逻辑卷是在 /dev/mapper/cl-root</p></blockquote><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">root@localhost /</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"># lvextend -L +30G /dev/mapper/cl-root</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">Size</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">of</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">logical</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">volume</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">cl/root</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">changed</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">70.00</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">GiB</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">17920</span><span style="color:#A6ACCD;"> extents</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">to</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">100.00</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">GiB</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">25600</span><span style="color:#A6ACCD;"> extents</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;">.</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">Logical</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">volume</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">cl/root</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">successfully</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">resized.</span></span>
<span class="line"></span>
<span class="line"></span></code></pre></div><h2 id="_5-扩展-root-文件系统" tabindex="-1">5,扩展 /root 文件系统 <a class="header-anchor" href="#_5-扩展-root-文件系统" aria-hidden="true">#</a></h2><blockquote><p>#使用xfs_growfs命令扩展xfs文件系统,如果是ext4文件系统，则使用resize2fs /dev/mapper/cl-root</p></blockquote><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">root@localhost /</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"># xfs_growfs /dev/mapper/cl-root</span></span>
<span class="line"><span style="color:#FFCB6B;">meta-data=/dev/mapper/cl-root</span><span style="color:#A6ACCD;">    </span><span style="color:#C3E88D;">isize=</span><span style="color:#F78C6C;">512</span><span style="color:#A6ACCD;">    </span><span style="color:#C3E88D;">agcount=</span><span style="color:#F78C6C;">4</span><span style="color:#C3E88D;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">agsize=</span><span style="color:#F78C6C;">4587520</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">blks</span></span>
<span class="line"><span style="color:#A6ACCD;">         </span><span style="color:#FFCB6B;">=</span><span style="color:#A6ACCD;">                       </span><span style="color:#C3E88D;">sectsz=</span><span style="color:#F78C6C;">512</span><span style="color:#A6ACCD;">   </span><span style="color:#C3E88D;">attr=</span><span style="color:#F78C6C;">2</span><span style="color:#C3E88D;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">projid32bit=</span><span style="color:#F78C6C;">1</span></span>
<span class="line"><span style="color:#A6ACCD;">         </span><span style="color:#FFCB6B;">=</span><span style="color:#A6ACCD;">                       </span><span style="color:#C3E88D;">crc=</span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">        </span><span style="color:#C3E88D;">finobt=</span><span style="color:#F78C6C;">1</span><span style="color:#C3E88D;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">sparse=</span><span style="color:#F78C6C;">1</span><span style="color:#C3E88D;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">rmapbt=</span><span style="color:#F78C6C;">0</span></span>
<span class="line"><span style="color:#A6ACCD;">         </span><span style="color:#FFCB6B;">=</span><span style="color:#A6ACCD;">                       </span><span style="color:#C3E88D;">reflink=</span><span style="color:#F78C6C;">1</span></span>
<span class="line"><span style="color:#FFCB6B;">data</span><span style="color:#A6ACCD;">     </span><span style="color:#C3E88D;">=</span><span style="color:#A6ACCD;">                       </span><span style="color:#C3E88D;">bsize=</span><span style="color:#F78C6C;">4096</span><span style="color:#A6ACCD;">   </span><span style="color:#C3E88D;">blocks=</span><span style="color:#F78C6C;">18350080</span><span style="color:#C3E88D;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">imaxpct=</span><span style="color:#F78C6C;">25</span></span>
<span class="line"><span style="color:#A6ACCD;">         </span><span style="color:#FFCB6B;">=</span><span style="color:#A6ACCD;">                       </span><span style="color:#C3E88D;">sunit=</span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">      </span><span style="color:#C3E88D;">swidth=</span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">blks</span></span>
<span class="line"><span style="color:#FFCB6B;">naming</span><span style="color:#A6ACCD;">   </span><span style="color:#C3E88D;">=version</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;">              </span><span style="color:#C3E88D;">bsize=</span><span style="color:#F78C6C;">4096</span><span style="color:#A6ACCD;">   </span><span style="color:#C3E88D;">ascii-ci=</span><span style="color:#F78C6C;">0</span><span style="color:#C3E88D;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ftype=</span><span style="color:#F78C6C;">1</span></span>
<span class="line"><span style="color:#FFCB6B;">log</span><span style="color:#A6ACCD;">      </span><span style="color:#C3E88D;">=internal</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">log</span><span style="color:#A6ACCD;">           </span><span style="color:#C3E88D;">bsize=</span><span style="color:#F78C6C;">4096</span><span style="color:#A6ACCD;">   </span><span style="color:#C3E88D;">blocks=</span><span style="color:#F78C6C;">8960</span><span style="color:#C3E88D;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">version=</span><span style="color:#F78C6C;">2</span></span>
<span class="line"><span style="color:#A6ACCD;">         </span><span style="color:#FFCB6B;">=</span><span style="color:#A6ACCD;">                       </span><span style="color:#C3E88D;">sectsz=</span><span style="color:#F78C6C;">512</span><span style="color:#A6ACCD;">   </span><span style="color:#C3E88D;">sunit=</span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">blks,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">lazy-count=</span><span style="color:#F78C6C;">1</span></span>
<span class="line"><span style="color:#FFCB6B;">realtime</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">=none</span><span style="color:#A6ACCD;">                   </span><span style="color:#C3E88D;">extsz=</span><span style="color:#F78C6C;">4096</span><span style="color:#A6ACCD;">   </span><span style="color:#C3E88D;">blocks=</span><span style="color:#F78C6C;">0</span><span style="color:#C3E88D;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">rtextents=</span><span style="color:#F78C6C;">0</span></span>
<span class="line"><span style="color:#FFCB6B;">data</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">blocks</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">changed</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">18350080</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">to</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">26214400</span></span>
<span class="line"></span>
<span class="line"></span></code></pre></div><h2 id="_6-查看磁盘空间" tabindex="-1">6,查看磁盘空间 <a class="header-anchor" href="#_6-查看磁盘空间" aria-hidden="true">#</a></h2><blockquote><p>已经扩展到 100G</p></blockquote><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">root@localhost /</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"># df -Th</span></span>
<span class="line"><span style="color:#FFCB6B;">文件系统</span><span style="color:#A6ACCD;">            </span><span style="color:#C3E88D;">类型</span><span style="color:#A6ACCD;">      </span><span style="color:#C3E88D;">容量</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">已用</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">可用</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">已用%</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">挂载点</span></span>
<span class="line"><span style="color:#FFCB6B;">devtmpfs</span><span style="color:#A6ACCD;">            </span><span style="color:#C3E88D;">devtmpfs</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">7.6G</span><span style="color:#A6ACCD;">     </span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">7.6G</span><span style="color:#A6ACCD;">    </span><span style="color:#F78C6C;">0</span><span style="color:#C3E88D;">%</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/dev</span></span>
<span class="line"><span style="color:#FFCB6B;">tmpfs</span><span style="color:#A6ACCD;">               </span><span style="color:#C3E88D;">tmpfs</span><span style="color:#A6ACCD;">     </span><span style="color:#C3E88D;">7.6G</span><span style="color:#A6ACCD;">     </span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">7.6G</span><span style="color:#A6ACCD;">    </span><span style="color:#F78C6C;">0</span><span style="color:#C3E88D;">%</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/dev/shm</span></span>
<span class="line"><span style="color:#FFCB6B;">tmpfs</span><span style="color:#A6ACCD;">               </span><span style="color:#C3E88D;">tmpfs</span><span style="color:#A6ACCD;">     </span><span style="color:#C3E88D;">7.6G</span><span style="color:#A6ACCD;">   </span><span style="color:#C3E88D;">35M</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">7.6G</span><span style="color:#A6ACCD;">    </span><span style="color:#F78C6C;">1</span><span style="color:#C3E88D;">%</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/run</span></span>
<span class="line"><span style="color:#FFCB6B;">tmpfs</span><span style="color:#A6ACCD;">               </span><span style="color:#C3E88D;">tmpfs</span><span style="color:#A6ACCD;">     </span><span style="color:#C3E88D;">7.6G</span><span style="color:#A6ACCD;">     </span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">7.6G</span><span style="color:#A6ACCD;">    </span><span style="color:#F78C6C;">0</span><span style="color:#C3E88D;">%</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/sys/fs/cgroup</span></span>
<span class="line"><span style="color:#FFCB6B;">/dev/mapper/cl-root</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">xfs</span><span style="color:#A6ACCD;">       </span><span style="color:#C3E88D;">100G</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">7.1G</span><span style="color:#A6ACCD;">   </span><span style="color:#C3E88D;">93G</span><span style="color:#A6ACCD;">    </span><span style="color:#F78C6C;">8</span><span style="color:#C3E88D;">%</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/</span></span>
<span class="line"><span style="color:#FFCB6B;">/dev/sda2</span><span style="color:#A6ACCD;">           </span><span style="color:#C3E88D;">xfs</span><span style="color:#A6ACCD;">      </span><span style="color:#C3E88D;">1014M</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">313M</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">702M</span><span style="color:#A6ACCD;">   </span><span style="color:#F78C6C;">31</span><span style="color:#C3E88D;">%</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/boot</span></span>
<span class="line"><span style="color:#FFCB6B;">/dev/sda1</span><span style="color:#A6ACCD;">           </span><span style="color:#C3E88D;">vfat</span><span style="color:#A6ACCD;">      </span><span style="color:#C3E88D;">599M</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">7.3M</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">592M</span><span style="color:#A6ACCD;">    </span><span style="color:#F78C6C;">2</span><span style="color:#C3E88D;">%</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/boot/efi</span></span>
<span class="line"><span style="color:#FFCB6B;">tmpfs</span><span style="color:#A6ACCD;">               </span><span style="color:#C3E88D;">tmpfs</span><span style="color:#A6ACCD;">     </span><span style="color:#C3E88D;">1.6G</span><span style="color:#A6ACCD;">   </span><span style="color:#C3E88D;">16K</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">1.6G</span><span style="color:#A6ACCD;">    </span><span style="color:#F78C6C;">1</span><span style="color:#C3E88D;">%</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/run/user/</span><span style="color:#F78C6C;">42</span></span>
<span class="line"></span>
<span class="line"></span></code></pre></div><h2 id="_7-查看物理卷" tabindex="-1">7,查看物理卷 <a class="header-anchor" href="#_7-查看物理卷" aria-hidden="true">#</a></h2><blockquote><p>可以看到，/dev/sda3 的空间还有 90G,用于创建新的逻辑卷</p></blockquote><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">root@localhost /</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"># pvs</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">PV</span><span style="color:#A6ACCD;">         </span><span style="color:#C3E88D;">VG</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Fmt</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">Attr</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">PSize</span><span style="color:#A6ACCD;">   </span><span style="color:#C3E88D;">PFree</span><span style="color:#A6ACCD;">  </span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">/dev/sda3</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">cl</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">lvm2</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">a--</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">198.41g</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F78C6C;">90.71</span></span>
<span class="line"></span>
<span class="line"></span></code></pre></div><h2 id="_8-创建新的逻辑卷" tabindex="-1">8, 创建新的逻辑卷 <a class="header-anchor" href="#_8-创建新的逻辑卷" aria-hidden="true">#</a></h2><blockquote><p>创建新的逻辑卷，大小为 90G</p></blockquote><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">root@localhost /</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"># lvcreate -L 90G -n newhome cl</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">Logical</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">volume</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">newhome</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">created.</span></span>
<span class="line"></span>
<span class="line"></span></code></pre></div><h2 id="_9-查看逻辑卷" tabindex="-1">9,查看逻辑卷 <a class="header-anchor" href="#_9-查看逻辑卷" aria-hidden="true">#</a></h2><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">root@localhost /</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"># lvs</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">LV</span><span style="color:#A6ACCD;">      </span><span style="color:#C3E88D;">VG</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Attr</span><span style="color:#A6ACCD;">       </span><span style="color:#C3E88D;">LSize</span><span style="color:#A6ACCD;">   </span><span style="color:#C3E88D;">Pool</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Origin</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Data%</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">Meta%</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">Move</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Log</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Cpy%Sync</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Convert</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">newhome</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">cl</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-wi-a-----</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">90.00g</span><span style="color:#A6ACCD;">                                                    </span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">root</span><span style="color:#A6ACCD;">    </span><span style="color:#C3E88D;">cl</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-wi-ao----</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">100.00g</span><span style="color:#A6ACCD;">                                                    </span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">swap</span><span style="color:#A6ACCD;">    </span><span style="color:#C3E88D;">cl</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-wi-ao----</span><span style="color:#A6ACCD;">   </span><span style="color:#C3E88D;">7.70g</span><span style="color:#A6ACCD;">                                                    </span></span>
<span class="line"></span></code></pre></div><h2 id="_10-查看-newhome-逻辑卷信息" tabindex="-1">10,查看 newhome 逻辑卷信息 <a class="header-anchor" href="#_10-查看-newhome-逻辑卷信息" aria-hidden="true">#</a></h2><blockquote><p>可以看到，newhome 逻辑卷的路径是 /dev/cl/newhome</p></blockquote><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">root@localhost /</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"># lvdisplay </span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#82AAFF;">...</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">---</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Logical</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">volume</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">---</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">LV</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Path</span><span style="color:#A6ACCD;">                </span><span style="color:#C3E88D;">/dev/cl/newhome</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">LV</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Name</span><span style="color:#A6ACCD;">                </span><span style="color:#C3E88D;">newhome</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">VG</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Name</span><span style="color:#A6ACCD;">                </span><span style="color:#C3E88D;">cl</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">LV</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">UUID</span><span style="color:#A6ACCD;">                </span><span style="color:#C3E88D;">eaHeN9-w5O4-VJoo-KAQR-LqKF-6lA0-b3NSFQ</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">LV</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Write</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Access</span><span style="color:#A6ACCD;">        </span><span style="color:#C3E88D;">read/write</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">LV</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Creation</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">host,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">time</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">localhost.localdomain,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2023</span><span style="color:#C3E88D;">-</span><span style="color:#F78C6C;">02</span><span style="color:#C3E88D;">-</span><span style="color:#F78C6C;">23</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">21</span><span style="color:#C3E88D;">:</span><span style="color:#F78C6C;">56</span><span style="color:#C3E88D;">:</span><span style="color:#F78C6C;">20</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-0500</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">LV</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Status</span><span style="color:#A6ACCD;">              </span><span style="color:#C3E88D;">available</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#676E95;font-style:italic;"># open                 0</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">LV</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Size</span><span style="color:#A6ACCD;">                </span><span style="color:#F78C6C;">90.00</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">GiB</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">Current</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">LE</span><span style="color:#A6ACCD;">             </span><span style="color:#F78C6C;">23040</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">Segments</span><span style="color:#A6ACCD;">               </span><span style="color:#F78C6C;">1</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">Allocation</span><span style="color:#A6ACCD;">             </span><span style="color:#C3E88D;">inherit</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">Read</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ahead</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">sectors</span><span style="color:#A6ACCD;">     </span><span style="color:#C3E88D;">auto</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">currently</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">set</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">to</span><span style="color:#A6ACCD;">     </span><span style="color:#F78C6C;">8192</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">Block</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">device</span><span style="color:#A6ACCD;">           </span><span style="color:#F78C6C;">253</span><span style="color:#C3E88D;">:</span><span style="color:#F78C6C;">2</span></span>
<span class="line"></span></code></pre></div><p>11,格式化 newhome 逻辑卷</p><blockquote><p>格式化为 xfs 文件系统</p></blockquote><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">root@localhost /</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"># mkfs.xfs /dev/cl/newhome</span></span>
<span class="line"><span style="color:#FFCB6B;">meta-data=/dev/cl/newhome</span><span style="color:#A6ACCD;">        </span><span style="color:#C3E88D;">isize=</span><span style="color:#F78C6C;">512</span><span style="color:#A6ACCD;">    </span><span style="color:#C3E88D;">agcount=</span><span style="color:#F78C6C;">4</span><span style="color:#C3E88D;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">agsize=</span><span style="color:#F78C6C;">5898240</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">blks</span></span>
<span class="line"><span style="color:#A6ACCD;">         </span><span style="color:#FFCB6B;">=</span><span style="color:#A6ACCD;">                       </span><span style="color:#C3E88D;">sectsz=</span><span style="color:#F78C6C;">512</span><span style="color:#A6ACCD;">   </span><span style="color:#C3E88D;">attr=</span><span style="color:#F78C6C;">2</span><span style="color:#C3E88D;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">projid32bit=</span><span style="color:#F78C6C;">1</span></span>
<span class="line"><span style="color:#A6ACCD;">         </span><span style="color:#FFCB6B;">=</span><span style="color:#A6ACCD;">                       </span><span style="color:#C3E88D;">crc=</span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">        </span><span style="color:#C3E88D;">finobt=</span><span style="color:#F78C6C;">1</span><span style="color:#C3E88D;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">sparse=</span><span style="color:#F78C6C;">1</span><span style="color:#C3E88D;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">rmapbt=</span><span style="color:#F78C6C;">0</span></span>
<span class="line"><span style="color:#A6ACCD;">         </span><span style="color:#FFCB6B;">=</span><span style="color:#A6ACCD;">                       </span><span style="color:#C3E88D;">reflink=</span><span style="color:#F78C6C;">1</span></span>
<span class="line"><span style="color:#FFCB6B;">data</span><span style="color:#A6ACCD;">     </span><span style="color:#C3E88D;">=</span><span style="color:#A6ACCD;">                       </span><span style="color:#C3E88D;">bsize=</span><span style="color:#F78C6C;">4096</span><span style="color:#A6ACCD;">   </span><span style="color:#C3E88D;">blocks=</span><span style="color:#F78C6C;">23592960</span><span style="color:#C3E88D;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">imaxpct=</span><span style="color:#F78C6C;">25</span></span>
<span class="line"><span style="color:#A6ACCD;">         </span><span style="color:#FFCB6B;">=</span><span style="color:#A6ACCD;">                       </span><span style="color:#C3E88D;">sunit=</span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">      </span><span style="color:#C3E88D;">swidth=</span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">blks</span></span>
<span class="line"><span style="color:#FFCB6B;">naming</span><span style="color:#A6ACCD;">   </span><span style="color:#C3E88D;">=version</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;">              </span><span style="color:#C3E88D;">bsize=</span><span style="color:#F78C6C;">4096</span><span style="color:#A6ACCD;">   </span><span style="color:#C3E88D;">ascii-ci=</span><span style="color:#F78C6C;">0</span><span style="color:#C3E88D;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ftype=</span><span style="color:#F78C6C;">1</span></span>
<span class="line"><span style="color:#FFCB6B;">log</span><span style="color:#A6ACCD;">      </span><span style="color:#C3E88D;">=internal</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">log</span><span style="color:#A6ACCD;">           </span><span style="color:#C3E88D;">bsize=</span><span style="color:#F78C6C;">4096</span><span style="color:#A6ACCD;">   </span><span style="color:#C3E88D;">blocks=</span><span style="color:#F78C6C;">11520</span><span style="color:#C3E88D;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">version=</span><span style="color:#F78C6C;">2</span></span>
<span class="line"><span style="color:#A6ACCD;">         </span><span style="color:#FFCB6B;">=</span><span style="color:#A6ACCD;">                       </span><span style="color:#C3E88D;">sectsz=</span><span style="color:#F78C6C;">512</span><span style="color:#A6ACCD;">   </span><span style="color:#C3E88D;">sunit=</span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">blks,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">lazy-count=</span><span style="color:#F78C6C;">1</span></span>
<span class="line"><span style="color:#FFCB6B;">realtime</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">=none</span><span style="color:#A6ACCD;">                   </span><span style="color:#C3E88D;">extsz=</span><span style="color:#F78C6C;">4096</span><span style="color:#A6ACCD;">   </span><span style="color:#C3E88D;">blocks=</span><span style="color:#F78C6C;">0</span><span style="color:#C3E88D;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">rtextents=</span><span style="color:#F78C6C;">0</span></span>
<span class="line"></span>
<span class="line"></span></code></pre></div><h2 id="_12-创建挂载点" tabindex="-1">12,创建挂载点 <a class="header-anchor" href="#_12-创建挂载点" aria-hidden="true">#</a></h2><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">root@localhost /</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"># mkdir /home</span></span>
<span class="line"></span>
<span class="line"></span></code></pre></div><h2 id="_13-挂载-newhome-逻辑卷" tabindex="-1">13,挂载 newhome 逻辑卷 <a class="header-anchor" href="#_13-挂载-newhome-逻辑卷" aria-hidden="true">#</a></h2><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">root@localhost /</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"># mount /dev/cl/newhome /home</span></span>
<span class="line"></span>
<span class="line"></span></code></pre></div><h2 id="_14-修改系统文件-etc-fstab" tabindex="-1">14,修改系统文件 /etc/fstab <a class="header-anchor" href="#_14-修改系统文件-etc-fstab" aria-hidden="true">#</a></h2><blockquote><p>添加 /home 的挂载信息</p></blockquote><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">root@localhost /</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"># cat /etc/fstab</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">/dev/mapper/cl-root</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/</span><span style="color:#A6ACCD;">                       </span><span style="color:#C3E88D;">xfs</span><span style="color:#A6ACCD;">     </span><span style="color:#C3E88D;">defaults</span><span style="color:#A6ACCD;">        </span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span></span>
<span class="line"><span style="color:#A6ACCD;">UUID</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">3f0d9f0a-3b5f-4b5a-9b5a-8b5a8b5a8b5a</span><span style="color:#A6ACCD;"> /boot                   xfs     defaults        </span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span></span>
<span class="line"><span style="color:#A6ACCD;">UUID</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">3f0d9f0a-3b5f-4b5a-9b5a-8b5a8b5a8b5a</span><span style="color:#A6ACCD;"> /boot/efi               vfat    umask</span><span style="color:#89DDFF;">=</span><span style="color:#F78C6C;">0077</span><span style="color:#A6ACCD;">      </span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2</span></span>
<span class="line"><span style="color:#FFCB6B;">/dev/mapper/cl-swap</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">swap</span><span style="color:#A6ACCD;">                    </span><span style="color:#C3E88D;">swap</span><span style="color:#A6ACCD;">    </span><span style="color:#C3E88D;">defaults</span><span style="color:#A6ACCD;">        </span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span></span>
<span class="line"><span style="color:#FFCB6B;">/dev/cl/newhome</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/home</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">xfs</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">defaults</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span></span>
<span class="line"></span>
<span class="line"></span></code></pre></div><h2 id="_15-保存后-重启系统" tabindex="-1">15,保存后，重启系统 <a class="header-anchor" href="#_15-保存后-重启系统" aria-hidden="true">#</a></h2><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">root@localhost /</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"># reboot</span></span>
<span class="line"></span>
<span class="line"></span></code></pre></div><h2 id="_16-查看挂载信息" tabindex="-1">16,查看挂载信息 <a class="header-anchor" href="#_16-查看挂载信息" aria-hidden="true">#</a></h2><blockquote><p>可以看到，/home 已经挂载到 /dev/cl/newhome</p></blockquote><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"></span>
<span class="line"><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">root@localhost </span><span style="color:#89DDFF;">~]</span><span style="color:#A6ACCD;"># df -h</span></span>
<span class="line"><span style="color:#FFCB6B;">文件系统</span><span style="color:#A6ACCD;">                </span><span style="color:#C3E88D;">容量</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">已用</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">可用</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">已用%</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">挂载点</span></span>
<span class="line"><span style="color:#FFCB6B;">devtmpfs</span><span style="color:#A6ACCD;">                </span><span style="color:#C3E88D;">7.6G</span><span style="color:#A6ACCD;">     </span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">7.6G</span><span style="color:#A6ACCD;">    </span><span style="color:#F78C6C;">0</span><span style="color:#C3E88D;">%</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/dev</span></span>
<span class="line"><span style="color:#FFCB6B;">tmpfs</span><span style="color:#A6ACCD;">                   </span><span style="color:#C3E88D;">7.6G</span><span style="color:#A6ACCD;">     </span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">7.6G</span><span style="color:#A6ACCD;">    </span><span style="color:#F78C6C;">0</span><span style="color:#C3E88D;">%</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/dev/shm</span></span>
<span class="line"><span style="color:#FFCB6B;">tmpfs</span><span style="color:#A6ACCD;">                   </span><span style="color:#C3E88D;">7.6G</span><span style="color:#A6ACCD;">   </span><span style="color:#C3E88D;">18M</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">7.6G</span><span style="color:#A6ACCD;">    </span><span style="color:#F78C6C;">1</span><span style="color:#C3E88D;">%</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/run</span></span>
<span class="line"><span style="color:#FFCB6B;">tmpfs</span><span style="color:#A6ACCD;">                   </span><span style="color:#C3E88D;">7.6G</span><span style="color:#A6ACCD;">     </span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">7.6G</span><span style="color:#A6ACCD;">    </span><span style="color:#F78C6C;">0</span><span style="color:#C3E88D;">%</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/sys/fs/cgroup</span></span>
<span class="line"><span style="color:#FFCB6B;">/dev/mapper/cl-root</span><span style="color:#A6ACCD;">     </span><span style="color:#C3E88D;">100G</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">7.1G</span><span style="color:#A6ACCD;">   </span><span style="color:#C3E88D;">93G</span><span style="color:#A6ACCD;">    </span><span style="color:#F78C6C;">8</span><span style="color:#C3E88D;">%</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/</span></span>
<span class="line"><span style="color:#FFCB6B;">/dev/mapper/cl-newhome</span><span style="color:#A6ACCD;">   </span><span style="color:#C3E88D;">90G</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">675M</span><span style="color:#A6ACCD;">   </span><span style="color:#C3E88D;">90G</span><span style="color:#A6ACCD;">    </span><span style="color:#F78C6C;">1</span><span style="color:#C3E88D;">%</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/home</span></span>
<span class="line"><span style="color:#FFCB6B;">/dev/sda2</span><span style="color:#A6ACCD;">              </span><span style="color:#C3E88D;">1014M</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">341M</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">674M</span><span style="color:#A6ACCD;">   </span><span style="color:#F78C6C;">34</span><span style="color:#C3E88D;">%</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/boot</span></span>
<span class="line"><span style="color:#FFCB6B;">/dev/sda1</span><span style="color:#A6ACCD;">               </span><span style="color:#C3E88D;">599M</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">7.3M</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">592M</span><span style="color:#A6ACCD;">    </span><span style="color:#F78C6C;">2</span><span style="color:#C3E88D;">%</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/boot/efi</span></span>
<span class="line"><span style="color:#FFCB6B;">tmpfs</span><span style="color:#A6ACCD;">                   </span><span style="color:#C3E88D;">1.6G</span><span style="color:#A6ACCD;">   </span><span style="color:#C3E88D;">44K</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">1.6G</span><span style="color:#A6ACCD;">    </span><span style="color:#F78C6C;">1</span><span style="color:#C3E88D;">%</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/run/user/</span></span>
<span class="line"></span>
<span class="line"></span></code></pre></div>`,47),e=[o];function t(C,c,r,y,A,D){return a(),n("div",null,e)}const E=s(p,[["render",t]]);export{F as __pageData,E as default};
